{% extends "layouts/base.html.twig" %}

{% block title %}Accueil - Broceliande Immo{% endblock %}

{% block content %}
<div class="hero text-center">
    <div class="container">
        <h1 class="display-4">Bienvenue chez Broceliande Immo</h1>
        <p class="lead">Découvrez des biens d'exception au cœur de la Bretagne mystique</p>
        <div class="d-flex justify-content-center gap-3">
            <a class="btn btn-primary btn-lg" href="{{ url('annonces/vente') }}" role="button">
                <i class="bi bi-house-door"></i> Acheter
            </a>
            <a class="btn btn-outline-primary btn-lg" href="{{ url('annonces/location') }}" role="button">
                <i class="bi bi-key"></i> Louer
            </a>
        </div>
    </div>
</div>

<div class="container">
    <section class="mb-5">
        <div class="section-header text-center">
            <h2><i class="bi bi-house-heart"></i> Nos dernières ventes</h2>
            <p class="text-muted">Découvrez nos biens récemment mis en vente</p>
        </div>
        <div class="row row-cols-1 row-cols-md-3 g-4">
            {% for annonce in ventes %}
                <div class="col">
                    <div class="card h-100 shadow-sm hover-effect">
                        <div class="card-img-wrapper">
                            <img src="{{ url(annonce.image_path) }}" class="card-img-top" alt="{{ annonce.title }}" style="height: 200px; object-fit: cover;">
                            <div class="price-tag-overlay">{{ annonce.price|number_format(0, ',', ' ') }} €</div>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{ annonce.title }}</h5>
                            <div class="property-features">
                                <p class="mb-2">
                                    <i class="bi bi-rulers"></i> {{ annonce.surface }} m² - 
                                    <i class="bi bi-house-door"></i> {{ annonce.pieces }} pièces
                                </p>
                                <p class="mb-3">
                                    <i class="bi bi-geo-alt"></i> {{ annonce.city }}
                                </p>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <a href="{{ url('annonce/' ~ annonce.id) }}" class="btn btn-primary">
                                    <i class="bi bi-eye"></i> Voir le détail
                                </a>
                                <span class="badge bg-success">{{ annonce.type_bien|capitalize }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{{ url('annonces/vente') }}" class="btn btn-outline-primary">
                <i class="bi bi-grid"></i> Voir toutes les ventes
            </a>
        </div>
    </section>

    <section class="mb-5">
        <div class="section-header text-center">
            <h2><i class="bi bi-key"></i> Nos dernières locations</h2>
            <p class="text-muted">Les meilleures offres de location en Bretagne</p>
        </div>
        <div class="row row-cols-1 row-cols-md-3 g-4">
            {% for annonce in locations %}
                <div class="col">
                    <div class="card h-100 shadow-sm hover-effect">
                        <div class="card-img-wrapper">
                            <img src="{{ url(annonce.image_path) }}" class="card-img-top" alt="{{ annonce.title }}" style="height: 200px; object-fit: cover;">
                            <div class="price-tag-overlay">
                                {{ annonce.price|number_format(0, ',', ' ') }} €/mois
                                {% if annonce.charges %}
                                    <small>(+ {{ annonce.charges|number_format(0, ',', ' ') }} € charges)</small>
                                {% endif %}
                            </div>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{ annonce.title }}</h5>
                            <div class="property-features">
                                <p class="mb-2">
                                    <i class="bi bi-rulers"></i> {{ annonce.surface }} m² - 
                                    <i class="bi bi-house-door"></i> {{ annonce.pieces }} pièces
                                </p>
                                <p class="mb-3">
                                    <i class="bi bi-geo-alt"></i> {{ annonce.city }}
                                </p>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <a href="{{ url('annonce/' ~ annonce.id) }}" class="btn btn-primary">
                                    <i class="bi bi-eye"></i> Voir le détail
                                </a>
                                <span class="badge bg-success">{{ annonce.type_bien|capitalize }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{{ url('annonces/location') }}" class="btn btn-outline-primary">
                <i class="bi bi-grid"></i> Voir toutes les locations
            </a>
        </div>
    </section>
</div>
{% endblock %}
